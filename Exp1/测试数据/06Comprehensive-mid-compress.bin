#include"framework.h"#include"WindowsProject1.h"#defineMAX_LOADSTRING100HINSTANCEhInst;WCHARszTitle[MAX_LOADSTRING];WCHARszWindowClass[MAX_LOADSTRING];ATOMMyRegisterClass(HINSTANCEhInstance);BOOLInitInstance(HINSTANCE,œ);LRESULTCALLBACKWndProc(HWND,UINT,WPARAM,LPARAM);INT_PTRCALLBACKAbout(HWND,UINT,WPARAM,LPARAM);œAPIENTRYwWinMain(_In_HINSTANCEhInstance,_In_opt_HINSTANCEhPrevInstance,_In_LPWSTRlpCmdLine,_In_œnCmdShow){UNREFERENCED_PARAMETER(hPrevInstance);UNREFERENCED_PARAMETER(lpCmdLine);LoadStringW(hInstance,IDS_APP_TITLE,szTitle,MAX_LOADSTRING);LoadStringW(hInstance,IDC_WINDOWSPROJECT1,szWindowClass,MAX_LOADSTRING);MyRegisterClass(hInstance);š(!InitInstance(hInstance,nCmdShow)){§FALSE;}HACCELhAccelTable=LoadAccelerators(hInstance,MAKEINTRESOURCE(IDC_WINDOWSPROJECT1));MSGmsg;¾(GetMessage(&msg,nullptr,0,0)){š(!TranslateAccelerator(msg.hwnd,hAccelTable,&msg)){TranslateMessage(&msg);DispatchMessage(&msg);}}§(œ)msg.wParam;}ATOMMyRegisterClass(HINSTANCEhInstance){WNDCLASSEXWwcex;wcex.cbSize=ª(WNDCLASSEX);wcex.style=CS_HREDRAW|CS_VREDRAW;wcex.lpfnWndProc=WndProc;wcex.cbClsExtra=0;wcex.cbWndExtra=0;wcex.hInstance=hInstance;wcex.hIcon=LoadIcon(hInstance,MAKEINTRESOURCE(IDI_WINDOWSPROJECT1));wcex.hCursor=LoadCursor(nullptr,IDC_ARROW);wcex.hbrBackground=(HBRUSH)(COLOR_WINDOW+1);wcex.lpszMenuName=MAKEINTRESOURCEW(IDC_WINDOWSPROJECT1);wcex.lpszClassName=szWindowClass;wcex.hIconSm=LoadIcon(wcex.hInstance,MAKEINTRESOURCE(IDI_SMALL));§RegisterClassExW(&wcex);}BOOLInitInstance(HINSTANCEhInstance,œnCmdShow){hInst=hInstance;HWNDhWnd=CreateWindowW(szWindowClass,szTitle,WS_OVERLAPPEDWINDOW,CW_USEDEFAULT,0,CW_USEDEFAULT,0,nullptr,nullptr,hInstance,nullptr);š(!hWnd){§FALSE;}ShowWindow(hWnd,nCmdShow);UpdateWindow(hWnd);§TRUE;}LRESULTCALLBACKWndProc(HWNDhWnd,UINTmessage,WPARAMwParam,LPARAMlParam){®(message){„WM_COMMAND:{œwmId=LOWORD(wParam);®(wmId){„IDM_ABOUT:DialogBox(hInst,MAKEINTRESOURCE(IDD_ABOUTBOX),hWnd,About);ƒ;„IDM_EXIT:DestroyWindow(hWnd);ƒ;‹:§DefWindowProc(hWnd,message,wParam,lParam);}}ƒ;„WM_PAINT:{PAINTSTRUCTps;HDChdc=BeginPaint(hWnd,&ps);EndPaint(hWnd,&ps);}ƒ;„WM_DESTROY:PostQuitMessage(0);ƒ;‹:§DefWindowProc(hWnd,message,wParam,lParam);}§0;}INT_PTRCALLBACKAbout(HWNDhDlg,UINTmessage,WPARAMwParam,LPARAMlParam){UNREFERENCED_PARAMETER(lParam);®(message){„WM_INITDIALOG:§(INT_PTR)TRUE;„WM_COMMAND:š(LOWORD(wParam)==IDOK||LOWORD(wParam)==IDCANCEL){EndDialog(hDlg,LOWORD(wParam));§(INT_PTR)TRUE;}ƒ;}§(INT_PTR)FALSE;}wParam)==IDCANCEL){EndDialog(hDlg,LOWORD(wParam));§(INT_PTR)TRUE;}ƒ;}§(INT_PTR)FALSE;}